import{a as Kr,g as qr,l as Wr,m as wt,n as Vr,s as yt}from"./chunk-26CTAKM4.js";import{a as C,b as We,d as ts,e as X,f as G,h as Ve,i as Je,k as y}from"./chunk-HIVZEDT5.js";var Be={};G(Be,{__assign:()=>xt,__asyncDelegator:()=>ps,__asyncGenerator:()=>ds,__asyncValues:()=>Ds,__await:()=>Ae,__awaiter:()=>as,__classPrivateFieldGet:()=>ws,__classPrivateFieldSet:()=>ys,__createBinding:()=>cs,__decorate:()=>os,__exportStar:()=>fs,__extends:()=>rs,__generator:()=>us,__importDefault:()=>ms,__importStar:()=>gs,__makeTemplateObject:()=>bs,__metadata:()=>is,__param:()=>ss,__read:()=>Jr,__rest:()=>ns,__spread:()=>ls,__spreadArrays:()=>hs,__values:()=>vt});function rs(e,t){Et(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ns(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function os(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(a=e[f])&&(s=(o<3?a(s):o>3?a(t,r,s):a(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function ss(e,t){return function(r,n){t(r,n,e)}}function is(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function as(e,t,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function f(i){try{d(n.next(i))}catch(c){a(c)}}function u(i){try{d(n.throw(i))}catch(c){a(c)}}function d(i){i.done?s(i.value):o(i.value).then(f,u)}d((n=n.apply(e,t||[])).next())})}function us(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,a;return a={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(d){return function(i){return u([d,i])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(i){d=[6,i],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function cs(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function fs(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function vt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(f){a={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function ls(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jr(arguments[t]));return e}function hs(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],a=0,f=s.length;a<f;a++,o++)n[o]=s[a];return n}function Ae(e){return this instanceof Ae?(this.v=e,this):new Ae(e)}function ds(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(l){n[l]&&(o[l]=function(p){return new Promise(function(h,D){s.push([l,p,h,D])>1||f(l,p)})})}function f(l,p){try{u(n[l](p))}catch(h){c(s[0][3],h)}}function u(l){l.value instanceof Ae?Promise.resolve(l.value.v).then(d,i):c(s[0][2],l)}function d(l){f("next",l)}function i(l){f("throw",l)}function c(l,p){l(p),s.shift(),s.length&&f(s[0][0],s[0][1])}}function ps(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(a){return(r=!r)?{value:Ae(e[o](a)),done:o==="return"}:s?s(a):a}:s}}function Ds(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vt=="function"?vt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(f,u){a=e[s](a),o(f,u,a.done,a.value)})}}function o(s,a,f,u){Promise.resolve(u).then(function(d){s({value:d,done:f})},a)}}function bs(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function gs(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ms(e){return e&&e.__esModule?e:{default:e}}function ws(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function ys(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Et,xt,Oe=ts(()=>{"use strict";Et=function(e,t){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Et(e,t)};xt=function(){return xt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xt.apply(this,arguments)}});var $r=X($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.delay=void 0;function Es(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}$e.delay=Es});var Yr=X(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ONE_THOUSAND=me.ONE_HUNDRED=void 0;me.ONE_HUNDRED=100;me.ONE_THOUSAND=1e3});var Gr=X(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.ONE_YEAR=m.FOUR_WEEKS=m.THREE_WEEKS=m.TWO_WEEKS=m.ONE_WEEK=m.THIRTY_DAYS=m.SEVEN_DAYS=m.FIVE_DAYS=m.THREE_DAYS=m.ONE_DAY=m.TWENTY_FOUR_HOURS=m.TWELVE_HOURS=m.SIX_HOURS=m.THREE_HOURS=m.ONE_HOUR=m.SIXTY_MINUTES=m.THIRTY_MINUTES=m.TEN_MINUTES=m.FIVE_MINUTES=m.ONE_MINUTE=m.SIXTY_SECONDS=m.THIRTY_SECONDS=m.TEN_SECONDS=m.FIVE_SECONDS=m.ONE_SECOND=void 0;m.ONE_SECOND=1;m.FIVE_SECONDS=5;m.TEN_SECONDS=10;m.THIRTY_SECONDS=30;m.SIXTY_SECONDS=60;m.ONE_MINUTE=m.SIXTY_SECONDS;m.FIVE_MINUTES=m.ONE_MINUTE*5;m.TEN_MINUTES=m.ONE_MINUTE*10;m.THIRTY_MINUTES=m.ONE_MINUTE*30;m.SIXTY_MINUTES=m.ONE_MINUTE*60;m.ONE_HOUR=m.SIXTY_MINUTES;m.THREE_HOURS=m.ONE_HOUR*3;m.SIX_HOURS=m.ONE_HOUR*6;m.TWELVE_HOURS=m.ONE_HOUR*12;m.TWENTY_FOUR_HOURS=m.ONE_HOUR*24;m.ONE_DAY=m.TWENTY_FOUR_HOURS;m.THREE_DAYS=m.ONE_DAY*3;m.FIVE_DAYS=m.ONE_DAY*5;m.SEVEN_DAYS=m.ONE_DAY*7;m.THIRTY_DAYS=m.ONE_DAY*30;m.ONE_WEEK=m.SEVEN_DAYS;m.TWO_WEEKS=m.ONE_WEEK*2;m.THREE_WEEKS=m.ONE_WEEK*3;m.FOUR_WEEKS=m.ONE_WEEK*4;m.ONE_YEAR=m.ONE_DAY*365});var Ft=X(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Zr=(Oe(),Je(Be));Zr.__exportStar(Yr(),Ye);Zr.__exportStar(Gr(),Ye)});var Qr=X(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.fromMiliseconds=we.toMiliseconds=void 0;var Xr=Ft();function xs(e){return e*Xr.ONE_THOUSAND}we.toMiliseconds=xs;function vs(e){return Math.floor(e/Xr.ONE_THOUSAND)}we.fromMiliseconds=vs});var tn=X(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var en=(Oe(),Je(Be));en.__exportStar($r(),Ge);en.__exportStar(Qr(),Ge)});var rn=X(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Watch=void 0;var Ze=class{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){let r=this.get(t);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);let n=Date.now()-r.started;this.timestamps.set(t,{started:r.started,elapsed:n})}get(t){let r=this.timestamps.get(t);if(typeof r>"u")throw new Error(`No timestamp found for label: ${t}`);return r}elapsed(t){let r=this.get(t);return r.elapsed||Date.now()-r.started}};Ne.Watch=Ze;Ne.default=Ze});var nn=X(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.IWatch=void 0;var St=class{};Xe.IWatch=St});var on=X(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});var Fs=(Oe(),Je(Be));Fs.__exportStar(nn(),Ct)});var _t=X(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});var Qe=(Oe(),Je(Be));Qe.__exportStar(tn(),ye);Qe.__exportStar(rn(),ye);Qe.__exportStar(on(),ye);Qe.__exportStar(Ft(),ye)});var Ho=X((Vl,ko)=>{"use strict";ko.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Cn=Ve(_t());var Ss=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Cs=e=>{let t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,o)=>typeof o=="string"&&o.match(/^\d+n$/)?BigInt(o.substring(0,o.length-1)):o)};function sn(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Cs(e)}catch{return e}}function an(e){return typeof e=="string"?e:Ss(e)||""}function _s(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _n(e,...t){if(!_s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function un(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Is(e,t){_n(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}var Ee=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var It=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function As(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function In(e){return typeof e=="string"&&(e=As(e)),_n(e),e}var Pt=class{clone(){return this._cloneInto()}};function Bs(e){let t=n=>e().update(In(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function An(e=32){if(Ee&&typeof Ee.getRandomValues=="function")return Ee.getRandomValues(new Uint8Array(e));if(Ee&&typeof Ee.randomBytes=="function")return Ee.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Os(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),a=Number(r>>o&s),f=Number(r&s),u=n?4:0,d=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+d,f,n)}var Mt=class extends Pt{constructor(t,r,n,o){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=It(this.buffer)}update(t){un(this);let{view:r,buffer:n,blockLen:o}=this;t=In(t);let s=t.length;for(let a=0;a<s;){let f=Math.min(o-this.pos,s-a);if(f===o){let u=It(t);for(;o<=s-a;a+=o)this.process(u,a);continue}n.set(t.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){un(this),Is(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let c=a;c<o;c++)r[c]=0;Os(n,o-8,BigInt(this.length*8),s),this.process(n,0);let f=It(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=u/4,i=this.get();if(d>i.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<d;c++)f.setUint32(4*c,i[c],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:a,pos:f}=this;return t.length=o,t.pos=f,t.finished=s,t.destroyed=a,o%r&&t.buffer.set(n),t}},et=BigInt(2**32-1),Lt=BigInt(32);function Bn(e,t=!1){return t?{h:Number(e&et),l:Number(e>>Lt&et)}:{h:Number(e>>Lt&et)|0,l:Number(e&et)|0}}function Ns(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:s,l:a}=Bn(e[o],t);[r[o],n[o]]=[s,a]}return[r,n]}var Ts=(e,t)=>BigInt(e>>>0)<<Lt|BigInt(t>>>0),Us=(e,t,r)=>e>>>r,Rs=(e,t,r)=>e<<32-r|t>>>r,Ps=(e,t,r)=>e>>>r|t<<32-r,Ms=(e,t,r)=>e<<32-r|t>>>r,Ls=(e,t,r)=>e<<64-r|t>>>r-32,zs=(e,t,r)=>e>>>r-32|t<<64-r,js=(e,t)=>t,ks=(e,t)=>e,Hs=(e,t,r)=>e<<r|t>>>32-r,Ks=(e,t,r)=>t<<r|e>>>32-r,qs=(e,t,r)=>t<<r-32|e>>>64-r,Ws=(e,t,r)=>e<<r-32|t>>>64-r;function Vs(e,t,r,n){let o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:o|0}}var Js=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),$s=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Ys=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Gs=(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,Zs=(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0),Xs=(e,t,r,n,o,s)=>t+r+n+o+s+(e/2**32|0)|0,I={fromBig:Bn,split:Ns,toBig:Ts,shrSH:Us,shrSL:Rs,rotrSH:Ps,rotrSL:Ms,rotrBH:Ls,rotrBL:zs,rotr32H:js,rotr32L:ks,rotlSH:Hs,rotlSL:Ks,rotlBH:qs,rotlBL:Ws,add:Vs,add3L:Js,add3H:$s,add4L:Ys,add4H:Gs,add5H:Xs,add5L:Zs},[Qs,ei]=I.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ue=new Uint32Array(80),ce=new Uint32Array(80),zt=class extends Mt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:o,Ch:s,Cl:a,Dh:f,Dl:u,Eh:d,El:i,Fh:c,Fl:l,Gh:p,Gl:h,Hh:D,Hl:w}=this;return[t,r,n,o,s,a,f,u,d,i,c,l,p,h,D,w]}set(t,r,n,o,s,a,f,u,d,i,c,l,p,h,D,w){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=f|0,this.Dl=u|0,this.Eh=d|0,this.El=i|0,this.Fh=c|0,this.Fl=l|0,this.Gh=p|0,this.Gl=h|0,this.Hh=D|0,this.Hl=w|0}process(t,r){for(let b=0;b<16;b++,r+=4)ue[b]=t.getUint32(r),ce[b]=t.getUint32(r+=4);for(let b=16;b<80;b++){let x=ue[b-15]|0,A=ce[b-15]|0,U=I.rotrSH(x,A,1)^I.rotrSH(x,A,8)^I.shrSH(x,A,7),T=I.rotrSL(x,A,1)^I.rotrSL(x,A,8)^I.shrSL(x,A,7),B=ue[b-2]|0,M=ce[b-2]|0,be=I.rotrSH(B,M,19)^I.rotrBH(B,M,61)^I.shrSH(B,M,6),le=I.rotrSL(B,M,19)^I.rotrBL(B,M,61)^I.shrSL(B,M,6),ge=I.add4L(T,le,ce[b-7],ce[b-16]),Ie=I.add4H(ge,U,be,ue[b-7],ue[b-16]);ue[b]=Ie|0,ce[b]=ge|0}let{Ah:n,Al:o,Bh:s,Bl:a,Ch:f,Cl:u,Dh:d,Dl:i,Eh:c,El:l,Fh:p,Fl:h,Gh:D,Gl:w,Hh:_,Hl:S}=this;for(let b=0;b<80;b++){let x=I.rotrSH(c,l,14)^I.rotrSH(c,l,18)^I.rotrBH(c,l,41),A=I.rotrSL(c,l,14)^I.rotrSL(c,l,18)^I.rotrBL(c,l,41),U=c&p^~c&D,T=l&h^~l&w,B=I.add5L(S,A,T,ei[b],ce[b]),M=I.add5H(B,_,x,U,Qs[b],ue[b]),be=B|0,le=I.rotrSH(n,o,28)^I.rotrBH(n,o,34)^I.rotrBH(n,o,39),ge=I.rotrSL(n,o,28)^I.rotrBL(n,o,34)^I.rotrBL(n,o,39),Ie=n&s^n&f^s&f,gt=o&a^o&u^a&u;_=D|0,S=w|0,D=p|0,w=h|0,p=c|0,h=l|0,{h:c,l}=I.add(d|0,i|0,M|0,be|0),d=f|0,i=u|0,f=s|0,u=a|0,s=n|0,a=o|0;let v=I.add3L(be,ge,gt);n=I.add3H(v,M,le,Ie),o=v|0}({h:n,l:o}=I.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:a}=I.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:f,l:u}=I.add(this.Ch|0,this.Cl|0,f|0,u|0),{h:d,l:i}=I.add(this.Dh|0,this.Dl|0,d|0,i|0),{h:c,l}=I.add(this.Eh|0,this.El|0,c|0,l|0),{h:p,l:h}=I.add(this.Fh|0,this.Fl|0,p|0,h|0),{h:D,l:w}=I.add(this.Gh|0,this.Gl|0,D|0,w|0),{h:_,l:S}=I.add(this.Hh|0,this.Hl|0,_|0,S|0),this.set(n,o,s,a,f,u,d,i,c,l,p,h,D,w,_,S)}roundClean(){ue.fill(0),ce.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ti=Bs(()=>new zt);var Gt=BigInt(0),On=BigInt(1),ri=BigInt(2);function Zt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Xt(e){if(!Zt(e))throw new Error("Uint8Array expected")}function At(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}var ni=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qt(e){Xt(e);let t="";for(let r=0;r<e.length;r++)t+=ni[e[r]];return t}function Nn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Gt:BigInt("0x"+e)}var oe={_0:48,_9:57,A:65,F:70,a:97,f:102};function cn(e){if(e>=oe._0&&e<=oe._9)return e-oe._0;if(e>=oe.A&&e<=oe.F)return e-(oe.A-10);if(e>=oe.a&&e<=oe.f)return e-(oe.a-10)}function Tn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let o=0,s=0;o<r;o++,s+=2){let a=cn(e.charCodeAt(s)),f=cn(e.charCodeAt(s+1));if(a===void 0||f===void 0){let u=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[o]=a*16+f}return n}function oi(e){return Nn(Qt(e))}function nt(e){return Xt(e),Nn(Qt(Uint8Array.from(e).reverse()))}function Un(e,t){return Tn(e.toString(16).padStart(t*2,"0"))}function jt(e,t){return Un(e,t).reverse()}function se(e,t,r){let n;if(typeof t=="string")try{n=Tn(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Zt(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function fn(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];Xt(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}var Bt=e=>typeof e=="bigint"&&Gt<=e;function si(e,t,r){return Bt(e)&&Bt(t)&&Bt(r)&&t<=e&&e<r}function Te(e,t,r,n){if(!si(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function ii(e){let t;for(t=0;e>Gt;e>>=On,t+=1);return t}var ai=e=>(ri<<BigInt(e-1))-On,ui={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Zt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function er(e,t,r={}){let n=(o,s,a)=>{let f=ui[s];if(typeof f!="function")throw new Error("invalid validator function");let u=e[o];if(!(a&&u===void 0)&&!f(u,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+u)};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(r))n(o,s,!0);return e}function ln(e){let t=new WeakMap;return(r,...n)=>{let o=t.get(r);if(o!==void 0)return o;let s=e(r,...n);return t.set(r,s),s}}var q=BigInt(0),k=BigInt(1),de=BigInt(2),ci=BigInt(3),kt=BigInt(4),hn=BigInt(5),dn=BigInt(8);function H(e,t){let r=e%t;return r>=q?r:t+r}function fi(e,t,r){if(t<q)throw new Error("invalid exponent, negatives unsupported");if(r<=q)throw new Error("invalid modulus");if(r===k)return q;let n=k;for(;t>q;)t&k&&(n=n*e%r),e=e*e%r,t>>=k;return n}function ee(e,t,r){let n=e;for(;t-- >q;)n*=n,n%=r;return n}function pn(e,t){if(e===q)throw new Error("invert: expected non-zero number");if(t<=q)throw new Error("invert: expected positive modulus, got "+t);let r=H(e,t),n=t,o=q,s=k;for(;r!==q;){let a=n/r,f=n%r,u=o-s*a;n=r,r=f,o=s,s=u}if(n!==k)throw new Error("invert: does not exist");return H(o,t)}function li(e){let t=(e-k)/de,r,n,o;for(r=e-k,n=0;r%de===q;r/=de,n++);for(o=de;o<e&&fi(o,t,e)!==e-k;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let a=(e+k)/kt;return function(f,u){let d=f.pow(u,a);if(!f.eql(f.sqr(d),u))throw new Error("Cannot find square root");return d}}let s=(r+k)/de;return function(a,f){if(a.pow(f,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,d=a.pow(a.mul(a.ONE,o),r),i=a.pow(f,s),c=a.pow(f,r);for(;!a.eql(c,a.ONE);){if(a.eql(c,a.ZERO))return a.ZERO;let l=1;for(let h=a.sqr(c);l<u&&!a.eql(h,a.ONE);l++)h=a.sqr(h);let p=a.pow(d,k<<BigInt(u-l-1));d=a.sqr(p),i=a.mul(i,p),c=a.mul(c,d),u=l}return i}}function hi(e){if(e%kt===ci){let t=(e+k)/kt;return function(r,n){let o=r.pow(n,t);if(!r.eql(r.sqr(o),n))throw new Error("Cannot find square root");return o}}if(e%dn===hn){let t=(e-hn)/dn;return function(r,n){let o=r.mul(n,de),s=r.pow(o,t),a=r.mul(n,s),f=r.mul(r.mul(a,de),s),u=r.mul(a,r.sub(f,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return li(e)}var di=(e,t)=>(H(e,t)&k)===k,pi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Di(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=pi.reduce((n,o)=>(n[o]="function",n),t);return er(e,r)}function bi(e,t,r){if(r<q)throw new Error("invalid exponent, negatives unsupported");if(r===q)return e.ONE;if(r===k)return t;let n=e.ONE,o=t;for(;r>q;)r&k&&(n=e.mul(n,o)),o=e.sqr(o),r>>=k;return n}function gi(e,t){let r=new Array(t.length),n=t.reduce((s,a,f)=>e.is0(a)?s:(r[f]=s,e.mul(s,a)),e.ONE),o=e.inv(n);return t.reduceRight((s,a,f)=>e.is0(a)?s:(r[f]=e.mul(s,r[f]),e.mul(s,a)),o),r}function Rn(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Pn(e,t,r=!1,n={}){if(e<=q)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Rn(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a,f=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:ai(o),ZERO:q,ONE:k,create:u=>H(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return q<=u&&u<e},is0:u=>u===q,isOdd:u=>(u&k)===k,neg:u=>H(-u,e),eql:(u,d)=>u===d,sqr:u=>H(u*u,e),add:(u,d)=>H(u+d,e),sub:(u,d)=>H(u-d,e),mul:(u,d)=>H(u*d,e),pow:(u,d)=>bi(f,u,d),div:(u,d)=>H(u*pn(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>pn(u,e),sqrt:n.sqrt||(u=>(a||(a=hi(e)),a(f,u))),invertBatch:u=>gi(f,u),cmov:(u,d,i)=>i?d:u,toBytes:u=>r?jt(u,s):Un(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return r?nt(u):oi(u)}});return Object.freeze(f)}var Dn=BigInt(0),tt=BigInt(1);function Ot(e,t){let r=t.negate();return e?r:t}function Mn(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Nt(e,t){Mn(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function mi(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function wi(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}var Tt=new WeakMap,Ln=new WeakMap;function Ut(e){return Ln.get(e)||1}function yi(e,t){return{constTimeNegate:Ot,hasPrecomputes(r){return Ut(r)!==1},unsafeLadder(r,n,o=e.ZERO){let s=r;for(;n>Dn;)n&tt&&(o=o.add(s)),s=s.double(),n>>=tt;return o},precomputeWindow(r,n){let{windows:o,windowSize:s}=Nt(n,t),a=[],f=r,u=f;for(let d=0;d<o;d++){u=f,a.push(u);for(let i=1;i<s;i++)u=u.add(f),a.push(u);f=u.double()}return a},wNAF(r,n,o){let{windows:s,windowSize:a}=Nt(r,t),f=e.ZERO,u=e.BASE,d=BigInt(2**r-1),i=2**r,c=BigInt(r);for(let l=0;l<s;l++){let p=l*a,h=Number(o&d);o>>=c,h>a&&(h-=i,o+=tt);let D=p,w=p+Math.abs(h)-1,_=l%2!==0,S=h<0;h===0?u=u.add(Ot(_,n[D])):f=f.add(Ot(S,n[w]))}return{p:f,f:u}},wNAFUnsafe(r,n,o,s=e.ZERO){let{windows:a,windowSize:f}=Nt(r,t),u=BigInt(2**r-1),d=2**r,i=BigInt(r);for(let c=0;c<a;c++){let l=c*f;if(o===Dn)break;let p=Number(o&u);if(o>>=i,p>f&&(p-=d,o+=tt),p===0)continue;let h=n[l+Math.abs(p)-1];p<0&&(h=h.negate()),s=s.add(h)}return s},getPrecomputes(r,n,o){let s=Tt.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Tt.set(n,o(s))),s},wNAFCached(r,n,o){let s=Ut(r);return this.wNAF(s,this.getPrecomputes(s,r,o),n)},wNAFCachedUnsafe(r,n,o,s){let a=Ut(r);return a===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,r,o),n,s)},setWindowSize(r,n){Mn(n,t),Ln.set(r,n),Tt.delete(r)}}}function Ei(e,t,r,n){if(mi(r,e),wi(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let o=e.ZERO,s=ii(BigInt(r.length)),a=s>12?s-3:s>4?s-2:s?2:1,f=(1<<a)-1,u=new Array(f+1).fill(o),d=Math.floor((t.BITS-1)/a)*a,i=o;for(let c=d;c>=0;c-=a){u.fill(o);for(let p=0;p<n.length;p++){let h=n[p],D=Number(h>>BigInt(c)&BigInt(f));u[D]=u[D].add(r[p])}let l=o;for(let p=u.length-1,h=o;p>0;p--)h=h.add(u[p]),l=l.add(h);if(i=i.add(l),c!==0)for(let p=0;p<a;p++)i=i.double()}return i}function xi(e){return Di(e.Fp),er(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(We(C(C({},Rn(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}var Q=BigInt(0),Y=BigInt(1),rt=BigInt(2),vi=BigInt(8),Fi={zip215:!0};function Si(e){let t=xi(e);return er(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(C({},t))}function Ci(e){let t=Si(e),{Fp:r,n,prehash:o,hash:s,randomBytes:a,nByteLength:f,h:u}=t,d=rt<<BigInt(f*8)-Y,i=r.create,c=Pn(t.n,t.nBitLength),l=t.uvRatio||((v,g)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(g))}}catch{return{isValid:!1,value:Q}}}),p=t.adjustScalarBytes||(v=>v),h=t.domain||((v,g,E)=>{if(At("phflag",E),g.length||E)throw new Error("Contexts/pre-hash are not supported");return v});function D(v,g){Te("coordinate "+v,g,Q,d)}function w(v){if(!(v instanceof b))throw new Error("ExtendedPoint expected")}let _=ln((v,g)=>{let{ex:E,ey:F,ez:O}=v,N=v.is0();g==null&&(g=N?vi:r.inv(O));let R=i(E*g),L=i(F*g),P=i(O*g);if(N)return{x:Q,y:Y};if(P!==Y)throw new Error("invZ was invalid");return{x:R,y:L}}),S=ln(v=>{let{a:g,d:E}=t;if(v.is0())throw new Error("bad point: ZERO");let{ex:F,ey:O,ez:N,et:R}=v,L=i(F*F),P=i(O*O),z=i(N*N),W=i(z*z),$=i(L*g),re=i(z*i($+P)),ne=i(W+i(E*i(L*P)));if(re!==ne)throw new Error("bad point: equation left != right (1)");let Z=i(F*O),ae=i(N*R);if(Z!==ae)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(g,E,F,O){this.ex=g,this.ey=E,this.ez=F,this.et=O,D("x",g),D("y",E),D("z",F),D("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(g){if(g instanceof b)throw new Error("extended point not allowed");let{x:E,y:F}=g||{};return D("x",E),D("y",F),new b(E,F,Y,i(E*F))}static normalizeZ(g){let E=r.invertBatch(g.map(F=>F.ez));return g.map((F,O)=>F.toAffine(E[O])).map(b.fromAffine)}static msm(g,E){return Ei(b,c,g,E)}_setWindowSize(g){U.setWindowSize(this,g)}assertValidity(){S(this)}equals(g){w(g);let{ex:E,ey:F,ez:O}=this,{ex:N,ey:R,ez:L}=g,P=i(E*L),z=i(N*O),W=i(F*L),$=i(R*O);return P===z&&W===$}is0(){return this.equals(b.ZERO)}negate(){return new b(i(-this.ex),this.ey,this.ez,i(-this.et))}double(){let{a:g}=t,{ex:E,ey:F,ez:O}=this,N=i(E*E),R=i(F*F),L=i(rt*i(O*O)),P=i(g*N),z=E+F,W=i(i(z*z)-N-R),$=P+R,re=$-L,ne=P-R,Z=i(W*re),ae=i($*ne),he=i(W*ne),qe=i(re*$);return new b(Z,ae,qe,he)}add(g){w(g);let{a:E,d:F}=t,{ex:O,ey:N,ez:R,et:L}=this,{ex:P,ey:z,ez:W,et:$}=g;if(E===BigInt(-1)){let Pr=i((N-O)*(z+P)),Mr=i((N+O)*(z-P)),mt=i(Mr-Pr);if(mt===Q)return this.double();let Lr=i(R*rt*$),zr=i(L*rt*W),jr=zr+Lr,kr=Mr+Pr,Hr=zr-Lr,Zo=i(jr*mt),Xo=i(kr*Hr),Qo=i(jr*Hr),es=i(mt*kr);return new b(Zo,Xo,es,Qo)}let re=i(O*P),ne=i(N*z),Z=i(L*F*$),ae=i(R*W),he=i((O+N)*(P+z)-re-ne),qe=ae-Z,Ur=ae+Z,Rr=i(ne-E*re),Jo=i(he*qe),$o=i(Ur*Rr),Yo=i(he*Rr),Go=i(qe*Ur);return new b(Jo,$o,Go,Yo)}subtract(g){return this.add(g.negate())}wNAF(g){return U.wNAFCached(this,g,b.normalizeZ)}multiply(g){let E=g;Te("scalar",E,Y,n);let{p:F,f:O}=this.wNAF(E);return b.normalizeZ([F,O])[0]}multiplyUnsafe(g,E=b.ZERO){let F=g;return Te("scalar",F,Q,n),F===Q?A:this.is0()||F===Y?this:U.wNAFCachedUnsafe(this,F,b.normalizeZ,E)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(g){return _(this,g)}clearCofactor(){let{h:g}=t;return g===Y?this:this.multiplyUnsafe(g)}static fromHex(g,E=!1){let{d:F,a:O}=t,N=r.BYTES;g=se("pointHex",g,N),At("zip215",E);let R=g.slice(),L=g[N-1];R[N-1]=L&-129;let P=nt(R),z=E?d:r.ORDER;Te("pointHex.y",P,Q,z);let W=i(P*P),$=i(W-Y),re=i(F*W-O),{isValid:ne,value:Z}=l($,re);if(!ne)throw new Error("Point.fromHex: invalid y coordinate");let ae=(Z&Y)===Y,he=(L&128)!==0;if(!E&&Z===Q&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==ae&&(Z=i(-Z)),b.fromAffine({x:Z,y:P})}static fromPrivateKey(g){return M(g).point}toRawBytes(){let{x:g,y:E}=this.toAffine(),F=jt(E,r.BYTES);return F[F.length-1]|=g&Y?128:0,F}toHex(){return Qt(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Y,i(t.Gx*t.Gy)),b.ZERO=new b(Q,Y,Y,Q);let{BASE:x,ZERO:A}=b,U=yi(b,f*8);function T(v){return H(v,n)}function B(v){return T(nt(v))}function M(v){let g=r.BYTES;v=se("private key",v,g);let E=se("hashed private key",s(v),2*g),F=p(E.slice(0,g)),O=E.slice(g,2*g),N=B(F),R=x.multiply(N),L=R.toRawBytes();return{head:F,prefix:O,scalar:N,point:R,pointBytes:L}}function be(v){return M(v).pointBytes}function le(v=new Uint8Array,...g){let E=fn(...g);return B(s(h(E,se("context",v),!!o)))}function ge(v,g,E={}){v=se("message",v),o&&(v=o(v));let{prefix:F,scalar:O,pointBytes:N}=M(g),R=le(E.context,F,v),L=x.multiply(R).toRawBytes(),P=le(E.context,L,N,v),z=T(R+P*O);Te("signature.s",z,Q,n);let W=fn(L,jt(z,r.BYTES));return se("result",W,r.BYTES*2)}let Ie=Fi;function gt(v,g,E,F=Ie){let{context:O,zip215:N}=F,R=r.BYTES;v=se("signature",v,2*R),g=se("message",g),E=se("publicKey",E,R),N!==void 0&&At("zip215",N),o&&(g=o(g));let L=nt(v.slice(R,2*R)),P,z,W;try{P=b.fromHex(E,N),z=b.fromHex(v.slice(0,R),N),W=x.multiplyUnsafe(L)}catch{return!1}if(!N&&P.isSmallOrder())return!1;let $=le(O,z.toRawBytes(),P.toRawBytes(),g);return z.add(P.multiplyUnsafe($)).subtract(W).clearCofactor().equals(b.ZERO)}return x._setWindowSize(8),{CURVE:t,getPublicKey:be,sign:ge,verify:gt,ExtendedPoint:b,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>a(r.BYTES),precompute(v=8,g=b.BASE){return g._setWindowSize(v),g.multiply(BigInt(3)),g}}}}BigInt(0),BigInt(1);var tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);var _i=BigInt(1),gn=BigInt(2);BigInt(3);var Ii=BigInt(5),Ai=BigInt(8);function Bi(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),s=tr,a=e*e%s*e%s,f=ee(a,gn,s)*a%s,u=ee(f,_i,s)*e%s,d=ee(u,Ii,s)*u%s,i=ee(d,t,s)*d%s,c=ee(i,r,s)*i%s,l=ee(c,n,s)*c%s,p=ee(l,o,s)*l%s,h=ee(p,o,s)*l%s,D=ee(h,t,s)*d%s;return{pow_p_5_8:ee(D,gn,s)*e%s,b2:a}}function Oi(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Ni(e,t){let r=tr,n=H(t*t*t,r),o=H(n*n*t,r),s=Bi(e*o).pow_p_5_8,a=H(e*n*s,r),f=H(t*a*a,r),u=a,d=H(a*bn,r),i=f===e,c=f===H(-e,r),l=f===H(-e*bn,r);return i&&(a=u),(c||l)&&(a=d),di(a,r)&&(a=H(-a,r)),{isValid:i||c,value:a}}var Ti=Pn(tr,void 0,!0),Ui={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ti,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ai,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ti,randomBytes:An,adjustScalarBytes:Oi,uvRatio:Ni},zn=Ci(Ui),Ri="EdDSA",Pi="JWT",ot=".",it="base64url",jn="utf8",kn="utf8",Mi=":",Li="did",zi="key",mn="base58btc",ji="z",ki="K36";var Hi=32;function rr(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Hn(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?rr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Kn(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=Hn(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return rr(r)}function Ki(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var f=e.length,u=e.charAt(0),d=Math.log(f)/Math.log(256),i=Math.log(256)/Math.log(f);function c(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var D=0,w=0,_=0,S=h.length;_!==S&&h[_]===0;)_++,D++;for(var b=(S-_)*i+1>>>0,x=new Uint8Array(b);_!==S;){for(var A=h[_],U=0,T=b-1;(A!==0||U<w)&&T!==-1;T--,U++)A+=256*x[T]>>>0,x[T]=A%f>>>0,A=A/f>>>0;if(A!==0)throw new Error("Non-zero carry");w=U,_++}for(var B=b-w;B!==b&&x[B]===0;)B++;for(var M=u.repeat(D);B<b;++B)M+=e.charAt(x[B]);return M}function l(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var D=0;if(h[D]!==" "){for(var w=0,_=0;h[D]===u;)w++,D++;for(var S=(h.length-D)*d+1>>>0,b=new Uint8Array(S);h[D];){var x=r[h.charCodeAt(D)];if(x===255)return;for(var A=0,U=S-1;(x!==0||A<_)&&U!==-1;U--,A++)x+=f*b[U]>>>0,b[U]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");_=A,D++}if(h[D]!==" "){for(var T=S-_;T!==S&&b[T]===0;)T++;for(var B=new Uint8Array(w+(S-T)),M=w;T!==S;)B[M++]=b[T++];return B}}}function p(h){var D=l(h);if(D)return D;throw new Error(`Non-${t} character`)}return{encode:c,decodeUnsafe:l,decode:p}}var qi=Ki,Wi=qi,qn=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Vi=e=>new TextEncoder().encode(e),Ji=e=>new TextDecoder().decode(e),Ht=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Kt=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Wn(this,t)}},qt=class{constructor(t){this.decoders=t}or(t){return Wn(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Wn=(e,t)=>new qt(C(C({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t})),Wt=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Ht(t,r,n),this.decoder=new Kt(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},at=({name:e,prefix:t,encode:r,decode:n})=>new Wt(e,t,r,n),Ue=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Wi(r,t);return at({prefix:e,name:t,encode:n,decode:s=>qn(o(s))})},$i=(e,t,r,n)=>{let o={};for(let i=0;i<t.length;++i)o[t[i]]=i;let s=e.length;for(;e[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),f=0,u=0,d=0;for(let i=0;i<s;++i){let c=o[e[i]];if(c===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|c,f+=r,f>=8&&(f-=8,a[d++]=255&u>>f)}if(f>=r||255&u<<8-f)throw new SyntaxError("Unexpected end of data");return a},Yi=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",a=0,f=0;for(let u=0;u<e.length;++u)for(f=f<<8|e[u],a+=8;a>r;)a-=r,s+=t[o&f>>a];if(a&&(s+=t[o&f<<r-a]),n)for(;s.length*r&7;)s+="=";return s},V=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>at({prefix:t,name:e,encode(o){return Yi(o,n,r)},decode(o){return $i(o,n,r,e)}}),Gi=at({prefix:"\0",name:"identity",encode:e=>Ji(e),decode:e=>Vi(e)}),Zi=Object.freeze({__proto__:null,identity:Gi}),Xi=V({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Qi=Object.freeze({__proto__:null,base2:Xi}),ea=V({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ta=Object.freeze({__proto__:null,base8:ea}),ra=Ue({prefix:"9",name:"base10",alphabet:"0123456789"}),na=Object.freeze({__proto__:null,base10:ra}),oa=V({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sa=V({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ia=Object.freeze({__proto__:null,base16:oa,base16upper:sa}),aa=V({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ua=V({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ca=V({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fa=V({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),la=V({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ha=V({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),da=V({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pa=V({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Da=V({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ba=Object.freeze({__proto__:null,base32:aa,base32upper:ua,base32pad:ca,base32padupper:fa,base32hex:la,base32hexupper:ha,base32hexpad:da,base32hexpadupper:pa,base32z:Da}),ga=Ue({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ma=Ue({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wa=Object.freeze({__proto__:null,base36:ga,base36upper:ma}),ya=Ue({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ea=Ue({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),xa=Object.freeze({__proto__:null,base58btc:ya,base58flickr:Ea}),va=V({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fa=V({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Sa=V({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ca=V({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),_a=Object.freeze({__proto__:null,base64:va,base64pad:Fa,base64url:Sa,base64urlpad:Ca}),Vn=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ia=Vn.reduce((e,t,r)=>(e[r]=t,e),[]),Aa=Vn.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Ba(e){return e.reduce((t,r)=>(t+=Ia[r],t),"")}function Oa(e){let t=[];for(let r of e){let n=Aa[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Na=at({prefix:"\u{1F680}",name:"base256emoji",encode:Ba,decode:Oa}),Ta=Object.freeze({__proto__:null,base256emoji:Na}),Ua=Jn,wn=128,Ra=127,Pa=~Ra,Ma=Math.pow(2,31);function Jn(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Ma;)t[r++]=e&255|wn,e/=128;for(;e&Pa;)t[r++]=e&255|wn,e>>>=7;return t[r]=e|0,Jn.bytes=r-n+1,t}var La=Vt,za=128,yn=127;function Vt(e,n){var r=0,n=n||0,o=0,s=n,a,f=e.length;do{if(s>=f)throw Vt.bytes=0,new RangeError("Could not decode varint");a=e[s++],r+=o<28?(a&yn)<<o:(a&yn)*Math.pow(2,o),o+=7}while(a>=za);return Vt.bytes=s-n,r}var ja=Math.pow(2,7),ka=Math.pow(2,14),Ha=Math.pow(2,21),Ka=Math.pow(2,28),qa=Math.pow(2,35),Wa=Math.pow(2,42),Va=Math.pow(2,49),Ja=Math.pow(2,56),$a=Math.pow(2,63),Ya=function(e){return e<ja?1:e<ka?2:e<Ha?3:e<Ka?4:e<qa?5:e<Wa?6:e<Va?7:e<Ja?8:e<$a?9:10},Ga={encode:Ua,decode:La,encodingLength:Ya},$n=Ga,En=(e,t,r=0)=>($n.encode(e,t,r),t),xn=e=>$n.encodingLength(e),Jt=(e,t)=>{let r=t.byteLength,n=xn(e),o=n+xn(r),s=new Uint8Array(o+r);return En(e,s,0),En(r,s,n),s.set(t,o),new $t(e,r,t,s)},$t=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}},Yn=({name:e,code:t,encode:r})=>new Yt(e,t,r),Yt=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?Jt(this.code,r):r.then(n=>Jt(this.code,n))}else throw Error("Unknown type, must be binary type")}},Gn=e=>t=>y(void 0,null,function*(){return new Uint8Array(yield crypto.subtle.digest(e,t))}),Za=Yn({name:"sha2-256",code:18,encode:Gn("SHA-256")}),Xa=Yn({name:"sha2-512",code:19,encode:Gn("SHA-512")}),Qa=Object.freeze({__proto__:null,sha256:Za,sha512:Xa}),Zn=0,eu="identity",Xn=qn,tu=e=>Jt(Zn,Xn(e)),ru={code:Zn,name:eu,encode:Xn,digest:tu},nu=Object.freeze({__proto__:null,identity:ru});new TextEncoder,new TextDecoder;var vn=C(C(C(C(C(C(C(C(C(C({},Zi),Qi),ta),na),ia),ba),wa),xa),_a),Ta);C(C({},Qa),nu);function Qn(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Fn=Qn("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Rt=Qn("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Hn(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eo=C({utf8:Fn,"utf-8":Fn,hex:vn.base16,latin1:Rt,ascii:Rt,binary:Rt},vn);function ut(e,t="utf8"){let r=eo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function xe(e,t="utf8"){let r=eo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?rr(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Sn(e){return sn(ut(xe(e,it),jn))}function st(e){return ut(xe(an(e),jn),it)}function ou(e){let t=xe(ki,mn),r=ji+ut(Kn([t,e]),mn);return[Li,zi,r].join(Mi)}function su(e){return ut(e,it)}function iu(e){return xe(e,it)}function au(e){return xe([st(e.header),st(e.payload)].join(ot),kn)}function uu(e){return[st(e.header),st(e.payload),su(e.signature)].join(ot)}function ff(e){let t=e.split(ot),r=Sn(t[0]),n=Sn(t[1]),o=iu(t[2]),s=xe(t.slice(0,2).join(ot),kn);return{header:r,payload:n,signature:o,data:s}}function lf(e=An(Hi)){let t=zn.getPublicKey(e);return{secretKey:Kn([e,t]),publicKey:t}}function hf(s,a,f,u){return y(this,arguments,function*(e,t,r,n,o=(0,Cn.fromMiliseconds)(Date.now())){let d={alg:Ri,typ:Pi},i=ou(n.publicKey),c=o+r,l={iss:i,sub:e,aud:t,iat:o,exp:c},p=au({header:d,payload:l}),h=zn.sign(p,n.secretKey.slice(0,32));return uu({header:d,payload:l,signature:h})})}function Re(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function cu(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=Re(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var ar={};G(ar,{identity:()=>Du});function fu(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=o}var f=e.length,u=e.charAt(0),d=Math.log(f)/Math.log(256),i=Math.log(256)/Math.log(f);function c(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var D=0,w=0,_=0,S=h.length;_!==S&&h[_]===0;)_++,D++;for(var b=(S-_)*i+1>>>0,x=new Uint8Array(b);_!==S;){for(var A=h[_],U=0,T=b-1;(A!==0||U<w)&&T!==-1;T--,U++)A+=256*x[T]>>>0,x[T]=A%f>>>0,A=A/f>>>0;if(A!==0)throw new Error("Non-zero carry");w=U,_++}for(var B=b-w;B!==b&&x[B]===0;)B++;for(var M=u.repeat(D);B<b;++B)M+=e.charAt(x[B]);return M}function l(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var D=0;if(h[D]!==" "){for(var w=0,_=0;h[D]===u;)w++,D++;for(var S=(h.length-D)*d+1>>>0,b=new Uint8Array(S);h[D];){var x=r[h.charCodeAt(D)];if(x===255)return;for(var A=0,U=S-1;(x!==0||A<_)&&U!==-1;U--,A++)x+=f*b[U]>>>0,b[U]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");_=A,D++}if(h[D]!==" "){for(var T=S-_;T!==S&&b[T]===0;)T++;for(var B=new Uint8Array(w+(S-T)),M=w;T!==S;)B[M++]=b[T++];return B}}}function p(h){var D=l(h);if(D)return D;throw new Error(`Non-${t} character`)}return{encode:c,decodeUnsafe:l,decode:p}}var lu=fu,hu=lu,to=hu;var wf=new Uint8Array(0);var ro=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ie=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var no=e=>new TextEncoder().encode(e),oo=e=>new TextDecoder().decode(e);var nr=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},or=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return io(this,t)}},sr=class{constructor(t){this.decoders=t}or(t){return io(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},io=(e,t)=>new sr(C(C({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t})),ir=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new nr(t,r,n),this.decoder=new or(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},ve=({name:e,prefix:t,encode:r,decode:n})=>new ir(e,t,r,n),fe=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=to(r,t);return ve({prefix:e,name:t,encode:n,decode:s=>ie(o(s))})},du=(e,t,r,n)=>{let o={};for(let i=0;i<t.length;++i)o[t[i]]=i;let s=e.length;for(;e[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),f=0,u=0,d=0;for(let i=0;i<s;++i){let c=o[e[i]];if(c===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|c,f+=r,f>=8&&(f-=8,a[d++]=255&u>>f)}if(f>=r||255&u<<8-f)throw new SyntaxError("Unexpected end of data");return a},pu=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",a=0,f=0;for(let u=0;u<e.length;++u)for(f=f<<8|e[u],a+=8;a>r;)a-=r,s+=t[o&f>>a];if(a&&(s+=t[o&f<<r-a]),n)for(;s.length*r&7;)s+="=";return s},j=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ve({prefix:t,name:e,encode(o){return pu(o,n,r)},decode(o){return du(o,n,r,e)}});var Du=ve({prefix:"\0",name:"identity",encode:e=>oo(e),decode:e=>no(e)});var ur={};G(ur,{base2:()=>bu});var bu=j({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var cr={};G(cr,{base8:()=>gu});var gu=j({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var fr={};G(fr,{base10:()=>mu});var mu=fe({prefix:"9",name:"base10",alphabet:"0123456789"});var lr={};G(lr,{base16:()=>wu,base16upper:()=>yu});var wu=j({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yu=j({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var hr={};G(hr,{base32:()=>Fe,base32hex:()=>Fu,base32hexpad:()=>Cu,base32hexpadupper:()=>_u,base32hexupper:()=>Su,base32pad:()=>xu,base32padupper:()=>vu,base32upper:()=>Eu,base32z:()=>Iu});var Fe=j({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Eu=j({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xu=j({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vu=j({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fu=j({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Su=j({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cu=j({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_u=j({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Iu=j({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dr={};G(dr,{base36:()=>Au,base36upper:()=>Bu});var Au=fe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bu=fe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var pr={};G(pr,{base58btc:()=>te,base58flickr:()=>Ou});var te=fe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ou=fe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Dr={};G(Dr,{base64:()=>Nu,base64pad:()=>Tu,base64url:()=>Uu,base64urlpad:()=>Ru});var Nu=j({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Tu=j({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Uu=j({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ru=j({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var br={};G(br,{base256emoji:()=>ju});var ao=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Pu=ao.reduce((e,t,r)=>(e[r]=t,e),[]),Mu=ao.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Lu(e){return e.reduce((t,r)=>(t+=Pu[r],t),"")}function zu(e){let t=[];for(let r of e){let n=Mu[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var ju=ve({prefix:"\u{1F680}",name:"base256emoji",encode:Lu,decode:zu});var yr={};G(yr,{sha256:()=>sc,sha512:()=>ic});var ku=fo,uo=128,Hu=127,Ku=~Hu,qu=Math.pow(2,31);function fo(e,t,r){t=t||[],r=r||0;for(var n=r;e>=qu;)t[r++]=e&255|uo,e/=128;for(;e&Ku;)t[r++]=e&255|uo,e>>>=7;return t[r]=e|0,fo.bytes=r-n+1,t}var Wu=gr,Vu=128,co=127;function gr(e,n){var r=0,n=n||0,o=0,s=n,a,f=e.length;do{if(s>=f)throw gr.bytes=0,new RangeError("Could not decode varint");a=e[s++],r+=o<28?(a&co)<<o:(a&co)*Math.pow(2,o),o+=7}while(a>=Vu);return gr.bytes=s-n,r}var Ju=Math.pow(2,7),$u=Math.pow(2,14),Yu=Math.pow(2,21),Gu=Math.pow(2,28),Zu=Math.pow(2,35),Xu=Math.pow(2,42),Qu=Math.pow(2,49),ec=Math.pow(2,56),tc=Math.pow(2,63),rc=function(e){return e<Ju?1:e<$u?2:e<Yu?3:e<Gu?4:e<Zu?5:e<Xu?6:e<Qu?7:e<ec?8:e<tc?9:10},nc={encode:ku,decode:Wu,encodingLength:rc},oc=nc,Pe=oc;var Me=(e,t=0)=>[Pe.decode(e,t),Pe.decode.bytes],Se=(e,t,r=0)=>(Pe.encode(e,t,r),t),Ce=e=>Pe.encodingLength(e);var pe=(e,t)=>{let r=t.byteLength,n=Ce(e),o=n+Ce(r),s=new Uint8Array(o+r);return Se(e,s,0),Se(r,s,n),s.set(t,o),new _e(e,r,t,s)},lo=e=>{let t=ie(e),[r,n]=Me(t),[o,s]=Me(t.subarray(n)),a=t.subarray(n+s);if(a.byteLength!==o)throw new Error("Incorrect length");return new _e(r,o,a,t)},ho=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&ro(e.bytes,t.bytes),_e=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}};var wr=({name:e,code:t,encode:r})=>new mr(e,t,r),mr=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?pe(this.code,r):r.then(n=>pe(this.code,n))}else throw Error("Unknown type, must be binary type")}};var Do=e=>t=>y(void 0,null,function*(){return new Uint8Array(yield crypto.subtle.digest(e,t))}),sc=wr({name:"sha2-256",code:18,encode:Do("SHA-256")}),ic=wr({name:"sha2-512",code:19,encode:Do("SHA-512")});var Er={};G(Er,{identity:()=>cc});var bo=0,ac="identity",go=ie,uc=e=>pe(bo,go(e)),cc={code:bo,name:ac,encode:go,digest:uc};var Hf=new TextEncoder,Kf=new TextDecoder;var ht=class e{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:lt,byteLength:lt,code:ft,version:ft,multihash:ft,bytes:ft,_baseCache:lt,asCID:lt})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==ze)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Dc)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=pe(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&ho(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return dc(r,o,t||te.encoder);default:return pc(r,o,t||Fe.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return gc(/^0\.0/,mc),!!(t&&(t[wo]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:o,bytes:s}=t;return new e(r,n,o,s||mo(r,n,o.bytes))}else if(t!=null&&t[wo]===!0){let{version:r,multihash:n,code:o}=t,s=lo(n);return e.create(r,o,s)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==ze)throw new Error(`Version 0 CID must use dag-pb (code: ${ze}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=mo(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,ze,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=ie(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=o.subarray(r.multihashSize-r.digestSize),a=new _e(r.multihashCode,r.digestSize,s,o);return[r.version===0?e.createV0(a):e.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[c,l]=Me(t.subarray(r));return r+=l,c},o=n(),s=ze;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let a=r,f=n(),u=n(),d=r+u,i=d-a;return{version:o,codec:s,multihashCode:f,digestSize:u,multihashSize:i,size:d}}static parse(t,r){let[n,o]=hc(t,r),s=e.decode(o);return s._baseCache.set(n,t),s}},hc=(e,t)=>{switch(e[0]){case"Q":{let r=t||te;return[te.prefix,r.decode(`${te.prefix}${e}`)]}case te.prefix:{let r=t||te;return[te.prefix,r.decode(e)]}case Fe.prefix:{let r=t||Fe;return[Fe.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},dc=(e,t,r)=>{let{prefix:n}=r;if(n!==te.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},pc=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},ze=112,Dc=18,mo=(e,t,r)=>{let n=Ce(e),o=n+Ce(t),s=new Uint8Array(o+r.byteLength);return Se(e,s,0),Se(t,s,n),s.set(r,o),s},wo=Symbol.for("@ipld/js-cid/CID"),ft={writable:!1,configurable:!1,enumerable:!0},lt={writable:!1,enumerable:!1,configurable:!1},bc="0.0.0-dev",gc=(e,t)=>{if(e.test(bc))console.warn(t);else throw new Error(t)},mc=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var xr=C(C(C(C(C(C(C(C(C(C({},ar),ur),cr),fr),lr),hr),dr),pr),Dr),br),Zf=C(C({},yr),Er);function Eo(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var yo=Eo("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),vr=Eo("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Re(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),wc=C({utf8:yo,"utf-8":yo,hex:xr.base16,latin1:vr,ascii:vr,binary:vr},xr),dt=wc;function yc(e,t="utf8"){let r=dt[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function Ec(e,t="utf8"){let r=dt[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var xl={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var pt=class{};var Fo=Ve(Kr()),Dt=Ve(_t());var Fr=class extends pt{constructor(t){super()}},xo=Dt.FIVE_SECONDS,xc={pulse:"heartbeat_pulse"},vo=class e extends Fr{constructor(t){super(t),this.events=new Fo.EventEmitter,this.interval=xo,this.interval=t?.interval||xo}static init(t){return y(this,null,function*(){let r=new e(t);return yield r.init(),r})}init(){return y(this,null,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}initialize(){return y(this,null,function*(){this.intervalRef=setInterval(()=>this.pulse(),(0,Dt.toMiliseconds)(this.interval))})}pulse(){this.events.emit(xc.pulse)}};var vc=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Fc=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Sc=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Cc(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){_c(e);return}return t}function _c(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function je(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Sc.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(vc.test(e)||Fc.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Cc)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function Ic(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function K(e,...t){try{return Ic(e(...t))}catch(r){return Promise.reject(r)}}function Ac(e){let t=typeof e;return e===null||t!=="object"&&t!=="function"}function Bc(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function ke(e){if(Ac(e))return String(e);if(Bc(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return ke(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}var Sr="base64:";function So(e){return typeof e=="string"?e:Sr+Nc(e)}function Co(e){return typeof e!="string"||!e.startsWith(Sr)?e:Oc(e.slice(Sr.length))}function Oc(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Nc(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function J(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function _o(...e){return J(e.join(":"))}function He(e){return e=J(e),e?e+":":""}function Io(e,t){if(t===void 0)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}function Ao(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}var Tc="memory",Uc=()=>{let e=new Map;return{name:Tc,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function No(e={}){let t={mounts:{"":e.driver||Uc()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=i=>{for(let c of t.mountpoints)if(i.startsWith(c))return{base:c,relativeKey:i.slice(c.length),driver:t.mounts[c]};return{base:"",relativeKey:i,driver:t.mounts[""]}},n=(i,c)=>t.mountpoints.filter(l=>l.startsWith(i)||c&&i.startsWith(l)).map(l=>({relativeBase:i.length>l.length?i.slice(l.length):void 0,mountpoint:l,driver:t.mounts[l]})),o=(i,c)=>{if(t.watching){c=J(c);for(let l of t.watchListeners)l(i,c)}},s=()=>y(this,null,function*(){if(!t.watching){t.watching=!0;for(let i in t.mounts)t.unwatch[i]=yield Bo(t.mounts[i],o,i)}}),a=()=>y(this,null,function*(){if(t.watching){for(let i in t.unwatch)yield t.unwatch[i]();t.unwatch={},t.watching=!1}}),f=(i,c,l)=>{let p=new Map,h=D=>{let w=p.get(D.base);return w||(w={driver:D.driver,base:D.base,items:[]},p.set(D.base,w)),w};for(let D of i){let w=typeof D=="string",_=J(w?D:D.key),S=w?void 0:D.value,b=w||!D.options?c:C(C({},c),D.options),x=r(_);h(x).items.push({key:_,value:S,relativeKey:x.relativeKey,options:b})}return Promise.all([...p.values()].map(D=>l(D))).then(D=>D.flat())},u={hasItem(i,c={}){i=J(i);let{relativeKey:l,driver:p}=r(i);return K(p.hasItem,l,c)},getItem(i,c={}){i=J(i);let{relativeKey:l,driver:p}=r(i);return K(p.getItem,l,c).then(h=>je(h))},getItems(i,c={}){return f(i,c,l=>l.driver.getItems?K(l.driver.getItems,l.items.map(p=>({key:p.relativeKey,options:p.options})),c).then(p=>p.map(h=>({key:_o(l.base,h.key),value:je(h.value)}))):Promise.all(l.items.map(p=>K(l.driver.getItem,p.relativeKey,p.options).then(h=>({key:p.key,value:je(h)})))))},getItemRaw(i,c={}){i=J(i);let{relativeKey:l,driver:p}=r(i);return p.getItemRaw?K(p.getItemRaw,l,c):K(p.getItem,l,c).then(h=>Co(h))},setItem(p,h){return y(this,arguments,function*(i,c,l={}){if(c===void 0)return u.removeItem(i);i=J(i);let{relativeKey:D,driver:w}=r(i);w.setItem&&(yield K(w.setItem,D,ke(c),l),w.watch||o("update",i))})},setItems(i,c){return y(this,null,function*(){yield f(i,c,l=>y(this,null,function*(){if(l.driver.setItems)return K(l.driver.setItems,l.items.map(p=>({key:p.relativeKey,value:ke(p.value),options:p.options})),c);l.driver.setItem&&(yield Promise.all(l.items.map(p=>K(l.driver.setItem,p.relativeKey,ke(p.value),p.options))))}))})},setItemRaw(p,h){return y(this,arguments,function*(i,c,l={}){if(c===void 0)return u.removeItem(i,l);i=J(i);let{relativeKey:D,driver:w}=r(i);if(w.setItemRaw)yield K(w.setItemRaw,D,c,l);else if(w.setItem)yield K(w.setItem,D,So(c),l);else return;w.watch||o("update",i)})},removeItem(l){return y(this,arguments,function*(i,c={}){typeof c=="boolean"&&(c={removeMeta:c}),i=J(i);let{relativeKey:p,driver:h}=r(i);h.removeItem&&(yield K(h.removeItem,p,c),(c.removeMeta||c.removeMata)&&(yield K(h.removeItem,p+"$",c)),h.watch||o("remove",i))})},getMeta(l){return y(this,arguments,function*(i,c={}){typeof c=="boolean"&&(c={nativeOnly:c}),i=J(i);let{relativeKey:p,driver:h}=r(i),D=Object.create(null);if(h.getMeta&&Object.assign(D,yield K(h.getMeta,p,c)),!c.nativeOnly){let w=yield K(h.getItem,p+"$",c).then(_=>je(_));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(D,w))}return D})},setMeta(i,c,l={}){return this.setItem(i+"$",c,l)},removeMeta(i,c={}){return this.removeItem(i+"$",c)},getKeys(l){return y(this,arguments,function*(i,c={}){i=He(i);let p=n(i,!0),h=[],D=[],w=!0;for(let S of p){S.driver.flags?.maxDepth||(w=!1);let b=yield K(S.driver.getKeys,S.relativeBase,c);for(let x of b){let A=S.mountpoint+J(x);h.some(U=>A.startsWith(U))||D.push(A)}h=[S.mountpoint,...h.filter(x=>!x.startsWith(S.mountpoint))]}let _=c.maxDepth!==void 0&&!w;return D.filter(S=>(!_||Io(S,c.maxDepth))&&Ao(S,i))})},clear(l){return y(this,arguments,function*(i,c={}){i=He(i),yield Promise.all(n(i,!1).map(p=>y(this,null,function*(){if(p.driver.clear)return K(p.driver.clear,p.relativeBase,c);if(p.driver.removeItem){let h=yield p.driver.getKeys(p.relativeBase||"",c);return Promise.all(h.map(D=>p.driver.removeItem(D,c)))}})))})},dispose(){return y(this,null,function*(){yield Promise.all(Object.values(t.mounts).map(i=>Oo(i)))})},watch(i){return y(this,null,function*(){return yield s(),t.watchListeners.push(i),()=>y(this,null,function*(){t.watchListeners=t.watchListeners.filter(c=>c!==i),t.watchListeners.length===0&&(yield a())})})},unwatch(){return y(this,null,function*(){t.watchListeners=[],yield a()})},mount(i,c){if(i=He(i),i&&t.mounts[i])throw new Error(`already mounted at ${i}`);return i&&(t.mountpoints.push(i),t.mountpoints.sort((l,p)=>p.length-l.length)),t.mounts[i]=c,t.watching&&Promise.resolve(Bo(c,o,i)).then(l=>{t.unwatch[i]=l}).catch(console.error),u},unmount(i,c=!0){return y(this,null,function*(){i=He(i),!(!i||!t.mounts[i])&&(t.watching&&i in t.unwatch&&(t.unwatch[i]?.(),delete t.unwatch[i]),c&&(yield Oo(t.mounts[i])),t.mountpoints=t.mountpoints.filter(l=>l!==i),delete t.mounts[i])})},getMount(i=""){i=J(i)+":";let c=r(i);return{driver:c.driver,base:c.base}},getMounts(i="",c={}){return i=J(i),n(i,c.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(i,c={})=>u.getKeys(i,c),get:(i,c={})=>u.getItem(i,c),set:(i,c,l={})=>u.setItem(i,c,l),has:(i,c={})=>u.hasItem(i,c),del:(i,c={})=>u.removeItem(i,c),remove:(i,c={})=>u.removeItem(i,c)};return u}function Bo(e,t,r){return e.watch?e.watch((n,o)=>t(n,r+o)):()=>{}}function Oo(e){return y(this,null,function*(){typeof e.dispose=="function"&&(yield K(e.dispose))})}function De(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function _r(e,t){let r,n=()=>{if(r)return r;let o=indexedDB.open(e);return o.onupgradeneeded=()=>o.result.createObjectStore(t),r=De(o),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(o,s)=>n().then(a=>s(a.transaction(t,o).objectStore(t)))}var Cr;function Ke(){return Cr||(Cr=_r("keyval-store","keyval")),Cr}function Ir(e,t=Ke()){return t("readonly",r=>De(r.get(e)))}function To(e,t,r=Ke()){return r("readwrite",n=>(n.put(t,e),De(n.transaction)))}function Uo(e,t=Ke()){return t("readwrite",r=>(r.delete(e),De(r.transaction)))}function Ro(e=Ke()){return e("readwrite",t=>(t.clear(),De(t.transaction)))}function Rc(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},De(e.transaction)}function Po(e=Ke()){return e("readonly",t=>{if(t.getAllKeys)return De(t.getAllKeys());let r=[];return Rc(t,n=>r.push(n.key)).then(()=>r)})}var Pc=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Mc=e=>{let t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,o)=>typeof o=="string"&&o.match(/^\d+n$/)?BigInt(o.substring(0,o.length-1)):o)};function Ar(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Mc(e)}catch{return e}}function Br(e){return typeof e=="string"?e:Pc(e)||""}var Lc="idb-keyval",zc=(e={})=>{let t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s,n;return e.dbName&&e.storeName&&(n=_r(e.dbName,e.storeName)),{name:Lc,options:e,hasItem(s){return y(this,null,function*(){return!(typeof(yield Ir(r(s),n))>"u")})},getItem(s){return y(this,null,function*(){return(yield Ir(r(s),n))??null})},setItem(s,a){return To(r(s),a,n)},removeItem(s){return Uo(r(s),n)},getKeys(){return Po(n)},clear(){return Ro(n)}}},jc="WALLET_CONNECT_V2_INDEXED_DB",kc="keyvaluestorage",Nr=class{constructor(){this.indexedDb=No({driver:zc({dbName:jc,storeName:kc})})}getKeys(){return y(this,null,function*(){return this.indexedDb.getKeys()})}getEntries(){return y(this,null,function*(){return(yield this.indexedDb.getItems(yield this.indexedDb.getKeys())).map(t=>[t.key,t.value])})}getItem(t){return y(this,null,function*(){let r=yield this.indexedDb.getItem(t);if(r!==null)return r})}setItem(t,r){return y(this,null,function*(){yield this.indexedDb.setItem(t,Br(r))})}removeItem(t){return y(this,null,function*(){yield this.indexedDb.removeItem(t)})}},Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Or<"u"&&Or.localStorage?bt.exports=Or.localStorage:typeof window<"u"&&window.localStorage?bt.exports=window.localStorage:bt.exports=new t})();function Hc(e){var t;return[e[0],Ar((t=e[1])!=null?t:"")]}var Tr=class{constructor(){this.localStorage=bt.exports}getKeys(){return y(this,null,function*(){return Object.keys(this.localStorage)})}getEntries(){return y(this,null,function*(){return Object.entries(this.localStorage).map(Hc)})}getItem(t){return y(this,null,function*(){let r=this.localStorage.getItem(t);if(r!==null)return Ar(r)})}setItem(t,r){return y(this,null,function*(){this.localStorage.setItem(t,Br(r))})}removeItem(t){return y(this,null,function*(){this.localStorage.removeItem(t)})}},Kc="wc_storage_version",Mo=1,qc=(e,t,r)=>y(void 0,null,function*(){let n=Kc,o=yield t.getItem(n);if(o&&o>=Mo){r(t);return}let s=yield e.getKeys();if(!s.length){r(t);return}let a=[];for(;s.length;){let f=s.shift();if(!f)continue;let u=f.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){let d=yield e.getItem(f);yield t.setItem(f,d),a.push(f)}}yield t.setItem(n,Mo),r(t),Wc(e,a)}),Wc=(e,t)=>y(void 0,null,function*(){t.length&&t.forEach(r=>y(void 0,null,function*(){yield e.removeItem(r)}))}),Lo=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let t=new Tr;this.storage=t;try{let r=new Nr;qc(t,r,this.setInitialized)}catch{this.initialized=!0}}getKeys(){return y(this,null,function*(){return yield this.initialize(),this.storage.getKeys()})}getEntries(){return y(this,null,function*(){return yield this.initialize(),this.storage.getEntries()})}getItem(t){return y(this,null,function*(){return yield this.initialize(),this.storage.getItem(t)})}setItem(t,r){return y(this,null,function*(){return yield this.initialize(),this.storage.setItem(t,r)})}removeItem(t){return y(this,null,function*(){return yield this.initialize(),this.storage.removeItem(t)})}initialize(){return y(this,null,function*(){this.initialized||(yield new Promise(t=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)}))})}};var Vo=Ve(Kr());var Vc=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Jc=e=>{let t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,o)=>typeof o=="string"&&o.match(/^\d+n$/)?BigInt(o.substring(0,o.length-1)):o)};function zo(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Jc(e)}catch{return e}}function jo(e){return typeof e=="string"?e:Vc(e)||""}var $c=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:Ho(),Yc=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Ko=e=>e.split("?")[0],qo=10,Gc=$c(),Wo=class{constructor(t){if(this.url=t,this.events=new Vo.EventEmitter,this.registering=!1,!wt(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}open(){return y(this,arguments,function*(t=this.url){yield this.register(t)})}close(){return y(this,null,function*(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})})}send(t){return y(this,null,function*(){typeof this.socket>"u"&&(this.socket=yield this.register());try{this.socket.send(jo(t))}catch(r){this.onError(t.id,r)}})}register(t=this.url){if(!wt(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,o)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),o(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return o(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{let o=(0,yt.isReactNative)()?void 0:{rejectUnauthorized:!Vr(t)},s=new Gc(t,[],o);Yc()?s.onerror=a=>{let f=a;n(this.emitError(f.error))}:s.on("error",a=>{n(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?zo(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),o=n.message||n.toString(),s=Wr(t,o);this.events.emit("payload",s)}parseError(t,r=this.url){return qr(t,Ko(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>qo&&this.events.setMaxListeners(qo)}emitError(t){let r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${Ko(this.url)}`));return this.events.emit("register_error",r),r}};export{_t as a,ou as b,ff as c,lf as d,hf as e,cu as f,yc as g,Ec as h,xl as i,pt as j,xc as k,vo as l,Lo as m,Wo as n};
